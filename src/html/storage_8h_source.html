<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TTNode: storage.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TTNode
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('storage_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">storage.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="storage_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2017 Inca Roads LLC.  All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by licenses granted by the</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// copyright holder including that found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#ifndef STOR_H__</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#define STOR_H__</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#if defined(NSDKV10) || defined(NSDKV11)</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#define OLDSTORAGE</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// WAN configurations</span></div>
<div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="storage_8h.html#ae1d252ce523efc8b5eed3c2247c25db2">   13</a></span>&#160;<span class="preprocessor">#define WAN_AUTO                        0   // FonaGPS,</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                                            <span class="comment">// then Lora-continuous,</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                                            <span class="comment">// then LoraWAN-continuous,</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                                            <span class="comment">// then Fona-oneshot</span></div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="storage_8h.html#a8348dadafdc98fb11162879be39f7f38">   17</a></span>&#160;<span class="preprocessor">#define WAN_LORA                        1</span></div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="storage_8h.html#aaee8030c7adec54b7cbba4c59433b47f">   18</a></span>&#160;<span class="preprocessor">#define WAN_LORAWAN                     2</span></div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="storage_8h.html#a4a7b9df7e5f533884ba595ad225f020c">   19</a></span>&#160;<span class="preprocessor">#define WAN_FONA                        3</span></div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="storage_8h.html#af27830c18b8e8c1ab06895ad336e57a6">   20</a></span>&#160;<span class="preprocessor">#define WAN_LORA_THEN_LORAWAN           4</span></div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="storage_8h.html#af1d5e4b61c013eef352d2964f40d5b5d">   21</a></span>&#160;<span class="preprocessor">#define WAN_LORAWAN_THEN_LORA           5</span></div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="storage_8h.html#aa33286f44da28efc966646b1815311fd">   22</a></span>&#160;<span class="preprocessor">#define WAN_NONE                        6</span></div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="storage_8h.html#a258808146d905eaf3602c5f086f512a1">   23</a></span>&#160;<span class="preprocessor">#define WAN_FONA_PLUS_MOBILE            7</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// A &quot;Data Buffer&quot; for buffering of data sent while comms is unavailable</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// This is purely optional, however it is useful.  The rough calculations</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// of buffer size are:</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// 32-bytes-per sensor reading (approximately)</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// 5 seconds between readings, taken in mobile mode</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">// 1 hour ideal upload interval</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// 2 hours worst case upload interval</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#ifdef OLDSTORAGE</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#define DB_ENABLED      false</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="storage_8h.html#af75c2e5dcef7c4e8efd4bfcf9933820b">   35</a></span>&#160;<span class="preprocessor">#define DB_ENABLED      true</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="storage_8h.html#a20fc8fb01642e05eed9079737522fbbe">   36</a></span>&#160;<span class="preprocessor">#define DB_MAX_TARGET   12000</span></div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="storage_8h.html#afc14dea92e4628066321e36e4724f35d">   37</a></span>&#160;<span class="preprocessor">#define DB_ENTRY_TARGET 1500</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// We store one fixed block of this size.  Note that this must be a multiple of 4</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// which is PHY_WORD_SIZE.  (There is no downside to increasing this; for a variety</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// of reasons I just wanted to make very clear how large the block size it is that</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// we&#39;re occupying in Flash, so I wrote this code to explicitly write only that</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">// fixed block size.)</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#ifdef OLDSTORAGE</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#define TTSTORAGE_MAX 512</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="storage_8h.html#a16ba0f8f9c9bcb261d5ed4a2c61fe485">   48</a></span>&#160;<span class="preprocessor">#define TTSTORAGE_MAX 1024</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">// Nordic physical flash constraints</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="storage_8h.html#a59a0aaa00888aedd1cb2d8cfe1df5dd3">   52</a></span>&#160;<span class="preprocessor">#define PHY_WORD_SIZE         4</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#if   defined(NRF51)</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#define PHY_PAGE_SIZE_WORDS   (256)</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#elif defined(NRF52)</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#define PHY_PAGE_SIZE_WORDS   (1024)</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="storage_8h.html#a9f707bdf4ea47a46155651766755fb0c">   58</a></span>&#160;<span class="preprocessor">#define PHY_PAGE_SIZE_BYTES   (PHY_PAGE_SIZE_WORDS*PHY_WORD_SIZE)</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">// Our app&#39;s settings</span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="storage_8h.html#a3832afd5682a7d06653eb57385e94b0a">   61</a></span>&#160;<span class="preprocessor">#define TT_PAGES            1</span></div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="storage_8h.html#a80e2f1bd372065a05cbc84170b9f558f">   62</a></span>&#160;<span class="preprocessor">#define TT_WORDS            ((TTSTORAGE_MAX/PHY_WORD_SIZE)+1)</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#if (PHY_PAGE_SIZE_WORDS &lt; TT_WORDS)</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;@error Code is written assuming max of 1 physical page</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#if !DB_ENABLED</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">// Just to allow code to compile with static buffers that are never used</span></div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="storage_8h.html#a744493ca23ebc9ecc975cd1d35b4deca">   69</a></span>&#160;<span class="preprocessor">#define DB_ENTRY_BYTES      10      </span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#define DB_ENTRY_WORDS      ((DB_ENTRY_TARGET/PHY_WORD_SIZE)+1)</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#define DB_ENTRY_BYTES      (DB_ENTRY_WORDS*PHY_WORD_SIZE)</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#define DB_PAGES            ((DB_MAX_TARGET/PHY_PAGE_SIZE_BYTES)+1)</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#define DB_BYTES            (DB_PAGES*PHY_PAGE_SIZE_BYTES)</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#define DB_ENTRIES_PER_PAGE (PHY_PAGE_SIZE_BYTES/DB_ENTRY_BYTES)</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#define DB_ENTRIES          (DB_PAGES*DB_ENTRIES_PER_PAGE)</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#define page(x)             (x/DB_ENTRIES_PER_PAGE)</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#define db_offset_of_page(x) (page(x)*PHY_PAGE_SIZE_BYTES)</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#define page_offset_of_entry(x) ((x%DB_ENTRIES_PER_PAGE)*DB_ENTRY_BYTES)</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">// This structure must never exceed the above size</span></div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="unionttstorage__.html">   83</a></span>&#160;<span class="keyword">union </span><a class="code" href="unionttstorage__.html">ttstorage_</a> {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="unionttstorage__.html#a3a60bac7bef8d8eddf343ecaab7fa8cf">   85</a></span>&#160;    uint8_t <a class="code" href="unionttstorage__.html#a3a60bac7bef8d8eddf343ecaab7fa8cf">data</a>[<a class="code" href="storage_8h.html#a16ba0f8f9c9bcb261d5ed4a2c61fe485">TTSTORAGE_MAX</a>];</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage__.html">   87</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structttstorage___1_1storage__.html">storage_</a> {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">// If a valid signature, we then check version #</span></div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="storage_8h.html#aa5a42fe6157c3c9a5f19207160dcd9df">   90</a></span>&#160;<span class="preprocessor">#define VALID_SIGNATURE 0xAAD8C7DAL</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage__.html#acca2448962303c6580ae91b03d87228b">   92</a></span>&#160;        uint32_t <a class="code" href="structttstorage___1_1storage__.html#acca2448962303c6580ae91b03d87228b">signature_top</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">// Anything outside this range is treated as uninitialized</span></div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="storage_8h.html#a7336e2221b128b695c344fd4bf30dcd7">   95</a></span>&#160;<span class="preprocessor">#define MIN_SUPPORTED_VERSION 1</span></div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="storage_8h.html#a6492c1bd63e2ece0062e02cabab1fc76">   96</a></span>&#160;<span class="preprocessor">#define MAX_SUPPORTED_VERSION 1</span></div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="storage_8h.html#acdf449577cec02e8758c8d46ef1befdd">   97</a></span>&#160;<span class="preprocessor">#define STORAGE struct v1_</span></div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage__.html#ab6d7b6f8c2ceaba7acda80aaf05f4899">   98</a></span>&#160;        uint16_t <a class="code" href="structttstorage___1_1storage__.html#ab6d7b6f8c2ceaba7acda80aaf05f4899">version</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="comment">// Storage structures</span></div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="unionttstorage___1_1storage___1_1versions__.html">  101</a></span>&#160;        <span class="keyword">union </span><a class="code" href="unionttstorage___1_1storage___1_1versions__.html">versions_</a> {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="comment">// The V1 format</span></div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html">  104</a></span>&#160;            <span class="keyword">struct </span><a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html">v1_</a> {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="storage_8h.html#af89c3a325f70ff813cb1ae0dafe67eae">  106</a></span>&#160;<span class="preprocessor">#define PRODUCT_SOLARCAST       0</span></div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#ad9002488b7ec430fbd90d7e50222d601">  107</a></span>&#160;                uint16_t <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#ad9002488b7ec430fbd90d7e50222d601">product</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">// Keep Bluetooth alive</span></div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="storage_8h.html#a142d937ef17089ab3db8301202e29265">  110</a></span>&#160;<span class="preprocessor">#define FLAG_BTKEEPALIVE        0x00000001</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">// Send buffered updates via the most efficient transport, as opposed to the most reliable</span></div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="storage_8h.html#a7f9cc129d0e58624fe57367750857569">  112</a></span>&#160;<span class="preprocessor">#define FLAG_BUFFERED_EFFICIENT 0x00000002</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">// Keep a listen outstanding and relay Safecast messages</span></div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="storage_8h.html#a8ec6e6b78a4af967fa0d4891968b8270">  114</a></span>&#160;<span class="preprocessor">#define FLAG_RELAY              0x00000004</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">// Continuously ping ttserve</span></div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="storage_8h.html#a77917bfb05e5ddab75c539b3b18684c8">  116</a></span>&#160;<span class="preprocessor">#define FLAG_PING               0x00000008</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">// Keep a listen outstanding for text messages</span></div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="storage_8h.html#a2dd465ed666d1f4f97da382c304fc6c5">  118</a></span>&#160;<span class="preprocessor">#define FLAG_LISTEN             0x00000010</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">// Confirm ALL service transactions</span></div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="storage_8h.html#a6e1857aca88fead2ea54267c388b2717">  120</a></span>&#160;<span class="preprocessor">#define FLAG_CONFIRM_ALL        0x00000020</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">// This is a device in test mode</span></div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="storage_8h.html#a73adba977c278377b55c434b49e191f0">  122</a></span>&#160;<span class="preprocessor">#define FLAG_TEST               0x00000040</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">// Flip the display upside down</span></div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="storage_8h.html#a66124eda613a8393fd0e9add1b75058e">  124</a></span>&#160;<span class="preprocessor">#define FLAG_FLIP               0x00000080</span></div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a773b39d480759f67926cb18ae2219281">  125</a></span>&#160;                uint32_t <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a773b39d480759f67926cb18ae2219281">flags</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">// Sensors</span></div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="storage_8h.html#a896c2df803ae3f947fe36bafeaec64eb">  128</a></span>&#160;<span class="preprocessor">#define SENSOR_AIR_COUNTS       0x00000001</span></div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="storage_8h.html#a1bd5cd7ac7d4c32640204e439c21d1b5">  129</a></span>&#160;<span class="preprocessor">#define SENSOR_GPIO_GEIGER0     0x00000002</span></div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="storage_8h.html#a562b23b47597b60a13b603379ba4f80f">  130</a></span>&#160;<span class="preprocessor">#define SENSOR_GPIO_GEIGER1     0x00000004</span></div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="storage_8h.html#aefb06f05ebbc31ec14e75d43d1fa09b1">  131</a></span>&#160;<span class="preprocessor">#define SENSOR_TWI_MAX17043     0x00000008</span></div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="storage_8h.html#a4bfa9496b3e9e294b2b766e5b25401b0">  132</a></span>&#160;<span class="preprocessor">#define SENSOR_TWI_MAX17201     0x00000010</span></div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="storage_8h.html#a450b1e440e8126846a05ee5a626a2142">  133</a></span>&#160;<span class="preprocessor">#define SENSOR_TWI_HIH6130      0x00000020</span></div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="storage_8h.html#aca3f9d715dd538ac23b5cbe22a58083e">  134</a></span>&#160;<span class="preprocessor">#define SENSOR_TWI_UBLOXM8      0x00000040</span></div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="storage_8h.html#ae0fc4ad7f0d943ac687796958139ab1a">  135</a></span>&#160;<span class="preprocessor">#define SENSOR_TWI_BME280       0x00000080</span></div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="storage_8h.html#aadcd4767d9587e2671912b2404828257">  136</a></span>&#160;<span class="preprocessor">#define SENSOR_TWI_INA219       0x00000100</span></div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="storage_8h.html#a23ef152063f758d02d80a911cfdff770">  137</a></span>&#160;<span class="preprocessor">#define SENSOR_TWI_LIS3DH       0x00000200</span></div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="storage_8h.html#abff1812289b1677143e22c46c8204844">  138</a></span>&#160;<span class="preprocessor">#define SENSOR_UART_PMS         0x00000400</span></div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="storage_8h.html#ad156d8bf690d1788ff67d324e9980764">  139</a></span>&#160;<span class="preprocessor">#define SENSOR_UART_UGPS        0x00000800</span></div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="storage_8h.html#a52ec58b6eeab67e7ddaeebb302d345e8">  140</a></span>&#160;<span class="preprocessor">#define SENSOR_SPI_OPC          0x00001000</span></div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="storage_8h.html#a42aacc0a0508936bbd13fe9f5650eec0">  141</a></span>&#160;<span class="preprocessor">#define SENSOR_ALL 0                            \</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">                | SENSOR_GPIO_GEIGER0           \</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor">                | SENSOR_GPIO_GEIGER1           \</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">                | SENSOR_TWI_MAX17043           \</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">                | SENSOR_TWI_MAX17201           \</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">                | SENSOR_TWI_HIH6130            \</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">                | SENSOR_TWI_UBLOXM8            \</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">                | SENSOR_TWI_BME280             \</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">                | SENSOR_TWI_INA219             \</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="preprocessor">                | SENSOR_TWI_LIS3DH             \</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="preprocessor">                | SENSOR_UART_PMS               \</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="preprocessor">                | SENSOR_UART_UGPS              \</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">                | SENSOR_SPI_OPC                \</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">                | 0</span></div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a976e511601cd5f33766778592884879d">  155</a></span>&#160;                uint32_t <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a976e511601cd5f33766778592884879d">sensors</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">// Device ID override</span></div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a658c495cd1900eadce3b800e3ebdac7a">  158</a></span>&#160;                uint32_t <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a658c495cd1900eadce3b800e3ebdac7a">device_id</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">// Device label</span></div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a1b4791b6a5b5ead90af3160fb89529a2">  161</a></span>&#160;                <span class="keywordtype">char</span> <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a1b4791b6a5b5ead90af3160fb89529a2">device_label</a>[64];</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">// Oneshot-mode interval</span></div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a2a85667afe77b0e6b37eac2a393bafee">  164</a></span>&#160;                uint16_t <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a2a85667afe77b0e6b37eac2a393bafee">oneshot_minutes</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">// Buffered update interval</span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a096b0d6792e4a19eeb91ea14fe166bed">  167</a></span>&#160;                uint16_t <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a096b0d6792e4a19eeb91ea14fe166bed">oneshot_cell_minutes</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">// How often to send stats and poll the service for commands</span></div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a97dab6aad53a8630b29426bad3d16397">  170</a></span>&#160;                uint16_t <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a97dab6aad53a8630b29426bad3d16397">stats_minutes</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">// Reboot-days interval, and count of days each time we restart</span></div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a950e6ad94a6d6f007262b34ee7a7f59d">  173</a></span>&#160;                uint16_t <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a950e6ad94a6d6f007262b34ee7a7f59d">restart_days</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a93caf1098bb16e59f65e67e3f4c04d5b">  174</a></span>&#160;                uint16_t <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a93caf1098bb16e59f65e67e3f4c04d5b">uptime_days</a>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">// WAN_ configuration</span></div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#ac582f1899244fe384fb81fe9ea699e39">  177</a></span>&#160;                uint8_t <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#ac582f1899244fe384fb81fe9ea699e39">wan</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">// Communications region for LPWAN</span></div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a9216aa5ba14e96382282730ca638aad7">  180</a></span>&#160;                <span class="keywordtype">char</span> <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a9216aa5ba14e96382282730ca638aad7">lpwan_region</a>[8];</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">// Service upload params</span></div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a950bd1024fb10041a94a23203074ff66">  183</a></span>&#160;                <span class="keywordtype">char</span> <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a950bd1024fb10041a94a23203074ff66">carrier_apn</a>[32];</div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#aa5b47e1642a508ed8bc5031078a1390f">  184</a></span>&#160;                <span class="keywordtype">char</span> <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#aa5b47e1642a508ed8bc5031078a1390f">service_addr</a>[32];</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">// TTN params</span></div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#aa32b82c2937881aa2395fbf4564a25c3">  187</a></span>&#160;                <span class="keywordtype">char</span> <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#aa32b82c2937881aa2395fbf4564a25c3">ttn_dev_eui</a>[20];</div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#ae1285ff32ee0f358cb7035fd874e1a15">  188</a></span>&#160;                <span class="keywordtype">char</span> <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#ae1285ff32ee0f358cb7035fd874e1a15">ttn_app_eui</a>[20];</div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a7fad97fc2e74f2b9242cdf38065542df">  189</a></span>&#160;                <span class="keywordtype">char</span> <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a7fad97fc2e74f2b9242cdf38065542df">ttn_app_key</a>[40];</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">// GPS params</span></div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a0e0ecb52bd1b059fa883a31e4bd1078c">  192</a></span>&#160;                <span class="keywordtype">float</span> <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a0e0ecb52bd1b059fa883a31e4bd1078c">gps_latitude</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a7a961ddf0b6a53d09f0c35ac7e6028c4">  193</a></span>&#160;                <span class="keywordtype">float</span> <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a7a961ddf0b6a53d09f0c35ac7e6028c4">gps_longitude</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#aa96f84b589e7331f957fcc5817a5ceca">  194</a></span>&#160;                <span class="keywordtype">float</span> <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#aa96f84b589e7331f957fcc5817a5ceca">gps_altitude</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">// Last known good GPS</span></div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a5df95878df453077f7f1e58f71334a86">  197</a></span>&#160;                <span class="keywordtype">float</span> <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a5df95878df453077f7f1e58f71334a86">lkg_gps_latitude</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a976b89cb90d7f18911f97fff404f1c69">  198</a></span>&#160;                <span class="keywordtype">float</span> <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a976b89cb90d7f18911f97fff404f1c69">lkg_gps_longitude</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#aaacd2acdd6fce5554c3c1b55fab53783">  199</a></span>&#160;                <span class="keywordtype">float</span> <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#aaacd2acdd6fce5554c3c1b55fab53783">lkg_gps_altitude</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">// Sensor config params</span></div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a22c127e2c45182aa4708a2fd686584fc">  202</a></span>&#160;                <span class="keywordtype">char</span> <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a22c127e2c45182aa4708a2fd686584fc">sensor_params</a>[100];</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">// DFU status</span></div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="storage_8h.html#a38bc6cc3e14a7f7a1fe4f2e93a5f22a8">  205</a></span>&#160;<span class="preprocessor">#define DFU_IDLE            0</span></div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="storage_8h.html#aeb7dbc84b9ee55033baa52f920da3064">  206</a></span>&#160;<span class="preprocessor">#define DFU_PENDING         1</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">// Error types</span></div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="storage_8h.html#ab2a45a07f73919f7126f26deda50ae81">  208</a></span>&#160;<span class="preprocessor">#define DFU_ERR_NONE            0</span></div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="storage_8h.html#ac5fce744ca972861b397e57a85998529">  209</a></span>&#160;<span class="preprocessor">#define DFU_ERR_BASIC           1</span></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="storage_8h.html#a0123927bf61e0f9fb994751950f156d4">  210</a></span>&#160;<span class="preprocessor">#define DFU_ERR_GETFILE         2</span></div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="storage_8h.html#a6ffc3cb8d9ccce235f97ee2cd863e98a">  211</a></span>&#160;<span class="preprocessor">#define DFU_ERR_NO_NETWORK      3</span></div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="storage_8h.html#a7f5f7f2d2316c801fbdffaac7be3e938">  212</a></span>&#160;<span class="preprocessor">#define DFU_ERR_TRANSFER        4</span></div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="storage_8h.html#a4d69e92e8791b16744d62014ef9db2e1">  213</a></span>&#160;<span class="preprocessor">#define DFU_ERR_RESET           5</span></div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="storage_8h.html#aa4467ec02f5f93ba4f1bb9ffd490fab9">  214</a></span>&#160;<span class="preprocessor">#define DFU_ERR_PREPARE         6</span></div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a8c511caf5d5e71d9a52d8ca923c6dc54">  215</a></span>&#160;                uint16_t <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a8c511caf5d5e71d9a52d8ca923c6dc54">dfu_status</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a15499957514bfe9690453fc41d4d21b9">  216</a></span>&#160;                uint16_t <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a15499957514bfe9690453fc41d4d21b9">dfu_error</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a3ea32daec1797a929371f665682ba851">  217</a></span>&#160;                uint16_t <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a3ea32daec1797a929371f665682ba851">dfu_count</a>;</div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a28d315eb0b1edce08c64565dd12c7d95">  218</a></span>&#160;                <span class="keywordtype">char</span> <a class="code" href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a28d315eb0b1edce08c64565dd12c7d95">dfu_filename</a>[40];</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">// Stored data awaiting upload</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="preprocessor">#if DB_ENABLED</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                uint16_t db_filled;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                uint16_t db_next_to_fill;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                uint16_t db_next_to_upload;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                uint16_t db_length[DB_ENTRIES];</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                uint16_t db_request_type[DB_ENTRIES];</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="unionttstorage___1_1storage___1_1versions__.html#a1985dbd5e307f351432642e0a4cfe58f">  229</a></span>&#160;            } <a class="code" href="unionttstorage___1_1storage___1_1versions__.html#a1985dbd5e307f351432642e0a4cfe58f">v1</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage__.html#a3416198bfd25bf0bdd9aaf61f45f32f9">  231</a></span>&#160;        } <a class="code" href="structttstorage___1_1storage__.html#a3416198bfd25bf0bdd9aaf61f45f32f9">versions</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="structttstorage___1_1storage__.html#a8d8c5a0e0a88199dfb33e3befcdd2141">  233</a></span>&#160;        uint32_t <a class="code" href="structttstorage___1_1storage__.html#a8d8c5a0e0a88199dfb33e3befcdd2141">signature_bottom</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="unionttstorage__.html#acf1dbd5bac8a050849df82653e12ab49">  235</a></span>&#160;    } <a class="code" href="unionttstorage__.html#acf1dbd5bac8a050849df82653e12ab49">storage</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="storage_8h.html#a62a78fd1ca35e7f666e1e62e8e0d448a">  237</a></span>&#160;} <a class="code" href="storage_8h.html#a62a78fd1ca35e7f666e1e62e8e0d448a">ttstorage</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">// Exports</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<a class="code" href="storage_8h.html#acdf449577cec02e8758c8d46ef1befdd">STORAGE</a> *<a class="code" href="storage_8h.html#a5d7af32088297d42a7223923404be57d">storage</a>();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="keywordtype">void</span> <a class="code" href="storage_8h.html#afa6a8becacf59fa379bbf76a54e0a9dd">storage_init</a>();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="keywordtype">void</span> <a class="code" href="storage_8h.html#ad6ef7cdc14a535d77ba6dade208ba9d4">storage_save</a>(<span class="keywordtype">bool</span>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="keywordtype">void</span> <a class="code" href="storage_8h.html#a805f7dc65e333110a39fc0df5f3261cf">storage_checkpoint</a>();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="storage_8h.html#a724a3367467e23960a3d86f5de9cfbc7">storage_load</a>();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="keywordtype">void</span> <a class="code" href="storage_8h.html#a3ee733e2f9c570091c001f58dc7e0442">storage_set_to_default</a>();</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="keywordtype">void</span> <a class="code" href="storage_8h.html#a4bc7dba670af337c4d73c9195eaba4bd">storage_sys_event_handler</a>(uint32_t sys_evt);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="storage_8h.html#afc98f7a2e0f557cc5dc379cf7cc9c626">storage_get_device_params_as_string</a>(<span class="keywordtype">char</span> *buffer, uint16_t length);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="storage_8h.html#a0eaee82b5d9a69b5fb7be78f162a1c53">storage_get_device_params_as_string_help</a>();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="keywordtype">void</span> <a class="code" href="storage_8h.html#a2b7f849f367f1d0549e4c11e3d5d61dc">storage_set_device_params_as_string</a>(<span class="keywordtype">char</span> *<a class="code" href="config_8c.html#ad8ab729381f270b100f3d05b6c6676fc">str</a>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="storage_8h.html#ad059747480e227f9d65a67594b03468d">storage_get_service_params_as_string</a>(<span class="keywordtype">char</span> *buffer, uint16_t length);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="storage_8h.html#aa5e6b0213b37542a278b4c5f32baf6b2">storage_get_service_params_as_string_help</a>();</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="keywordtype">void</span> <a class="code" href="storage_8h.html#a8922f49572bb527af3741c3bc43b1711">storage_set_service_params_as_string</a>(<span class="keywordtype">char</span> *<a class="code" href="config_8c.html#ad8ab729381f270b100f3d05b6c6676fc">str</a>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="storage_8h.html#af8c651b17ba3618749b7b59c6482cea0">storage_get_device_label_as_string</a>(<span class="keywordtype">char</span> *buffer, uint16_t length);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="storage_8h.html#a8756d205f41f5d0be3a5577286f8d193">storage_get_device_label_as_string_help</a>();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="keywordtype">void</span> <a class="code" href="storage_8h.html#a6639814c6e8a19a0a2d7835265eed1f2">storage_set_device_label_as_string</a>(<span class="keywordtype">char</span> *<a class="code" href="config_8c.html#ad8ab729381f270b100f3d05b6c6676fc">str</a>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="storage_8h.html#a57bb977683c5c44270bd8ae38a60bdaf">storage_get_ttn_params_as_string</a>(<span class="keywordtype">char</span> *buffer, uint16_t length);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="storage_8h.html#a2f7a189bc009472338ef8f3c1c32a02c">storage_get_ttn_params_as_string_help</a>();</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="keywordtype">void</span> <a class="code" href="storage_8h.html#a0e04bad658769e67843d9917f9bc66de">storage_set_ttn_params_as_string</a>(<span class="keywordtype">char</span> *<a class="code" href="config_8c.html#ad8ab729381f270b100f3d05b6c6676fc">str</a>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="storage_8h.html#ae4686f057310f87cfe977b0b723142ee">storage_get_dfu_state_as_string</a>(<span class="keywordtype">char</span> *buffer, uint16_t length);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="storage_8h.html#a3c92d00723254e53e51a6e96b0faffc8">storage_get_dfu_state_as_string_help</a>();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="keywordtype">void</span> <a class="code" href="storage_8h.html#ad09b6bb7057b9a92b7d257c67b29a66f">storage_set_dfu_state_as_string</a>(<span class="keywordtype">char</span> *<a class="code" href="config_8c.html#ad8ab729381f270b100f3d05b6c6676fc">str</a>);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="storage_8h.html#aac32c683f3c5b4f8e92fb9c03cdf26f2">storage_get_gps_params_as_string</a>(<span class="keywordtype">char</span> *buffer, uint16_t length);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="storage_8h.html#ab16b40827d1e7681f55d1a0864542563">storage_get_gps_params_as_string_help</a>();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="keywordtype">void</span> <a class="code" href="storage_8h.html#a311edb8013478c041330c73c1238fb71">storage_set_gps_params_as_string</a>(<span class="keywordtype">char</span> *<a class="code" href="config_8c.html#ad8ab729381f270b100f3d05b6c6676fc">str</a>);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="storage_8h.html#a95b0eef67cf3dcde7967cf5765b0856d">storage_get_sensor_params_as_string</a>(<span class="keywordtype">char</span> *buffer, uint16_t length);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="storage_8h.html#a669413c2196b53aa4020427830db7e95">storage_get_sensor_params_as_string_help</a>();</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="keywordtype">void</span> <a class="code" href="storage_8h.html#ab62caefbe4a368b1a512c418da801280">storage_set_sensor_params_as_string</a>(<span class="keywordtype">char</span> *<a class="code" href="config_8c.html#ad8ab729381f270b100f3d05b6c6676fc">str</a>);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;uint16_t <a class="code" href="storage_8h.html#a7789c1ac642851c857c7248d85dafa98">db_get</a>(uint8_t *buffer, uint16_t *length, uint16_t *request_type);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="keywordtype">void</span> <a class="code" href="storage_8h.html#aba57a2549ae2caa46b7a6cb16a69b109">db_get_release</a>();</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="storage_8h.html#a0f1b629b450a7343485285f9dc43fbb6">db_put</a>(uint8_t *buffer, uint16_t length, uint16_t request_type);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="storage_8h.html#a162aea4a535ceca8780acd32ec2f137a">db_enabled</a>();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a2a85667afe77b0e6b37eac2a393bafee"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a2a85667afe77b0e6b37eac2a393bafee">ttstorage_::storage_::versions_::v1_::oneshot_minutes</a></div><div class="ttdeci">uint16_t oneshot_minutes</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00164">storage.h:164</a></div></div>
<div class="ttc" id="aunionttstorage___1_1storage___1_1versions___html"><div class="ttname"><a href="unionttstorage___1_1storage___1_1versions__.html">ttstorage_::storage_::versions_</a></div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00101">storage.h:101</a></div></div>
<div class="ttc" id="astorage_8h_html_ab62caefbe4a368b1a512c418da801280"><div class="ttname"><a href="storage_8h.html#ab62caefbe4a368b1a512c418da801280">storage_set_sensor_params_as_string</a></div><div class="ttdeci">void storage_set_sensor_params_as_string(char *str)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00755">storage.c:755</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a658c495cd1900eadce3b800e3ebdac7a"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a658c495cd1900eadce3b800e3ebdac7a">ttstorage_::storage_::versions_::v1_::device_id</a></div><div class="ttdeci">uint32_t device_id</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00158">storage.h:158</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a3ea32daec1797a929371f665682ba851"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a3ea32daec1797a929371f665682ba851">ttstorage_::storage_::versions_::v1_::dfu_count</a></div><div class="ttdeci">uint16_t dfu_count</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00217">storage.h:217</a></div></div>
<div class="ttc" id="astorage_8h_html_aac32c683f3c5b4f8e92fb9c03cdf26f2"><div class="ttname"><a href="storage_8h.html#aac32c683f3c5b4f8e92fb9c03cdf26f2">storage_get_gps_params_as_string</a></div><div class="ttdeci">bool storage_get_gps_params_as_string(char *buffer, uint16_t length)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00701">storage.c:701</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a28d315eb0b1edce08c64565dd12c7d95"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a28d315eb0b1edce08c64565dd12c7d95">ttstorage_::storage_::versions_::v1_::dfu_filename</a></div><div class="ttdeci">char dfu_filename[40]</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00218">storage.h:218</a></div></div>
<div class="ttc" id="aunionttstorage___html"><div class="ttname"><a href="unionttstorage__.html">ttstorage_</a></div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00083">storage.h:83</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a773b39d480759f67926cb18ae2219281"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a773b39d480759f67926cb18ae2219281">ttstorage_::storage_::versions_::v1_::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00125">storage.h:125</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___html_a8d8c5a0e0a88199dfb33e3befcdd2141"><div class="ttname"><a href="structttstorage___1_1storage__.html#a8d8c5a0e0a88199dfb33e3befcdd2141">ttstorage_::storage_::signature_bottom</a></div><div class="ttdeci">uint32_t signature_bottom</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00233">storage.h:233</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___html_acca2448962303c6580ae91b03d87228b"><div class="ttname"><a href="structttstorage___1_1storage__.html#acca2448962303c6580ae91b03d87228b">ttstorage_::storage_::signature_top</a></div><div class="ttdeci">uint32_t signature_top</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00092">storage.h:92</a></div></div>
<div class="ttc" id="astorage_8h_html_a669413c2196b53aa4020427830db7e95"><div class="ttname"><a href="storage_8h.html#a669413c2196b53aa4020427830db7e95">storage_get_sensor_params_as_string_help</a></div><div class="ttdeci">char * storage_get_sensor_params_as_string_help()</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00741">storage.c:741</a></div></div>
<div class="ttc" id="astorage_8h_html_ad6ef7cdc14a535d77ba6dade208ba9d4"><div class="ttname"><a href="storage_8h.html#ad6ef7cdc14a535d77ba6dade208ba9d4">storage_save</a></div><div class="ttdeci">void storage_save(bool)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00791">storage.c:791</a></div></div>
<div class="ttc" id="astorage_8h_html_a3c92d00723254e53e51a6e96b0faffc8"><div class="ttname"><a href="storage_8h.html#a3c92d00723254e53e51a6e96b0faffc8">storage_get_dfu_state_as_string_help</a></div><div class="ttdeci">char * storage_get_dfu_state_as_string_help()</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00639">storage.c:639</a></div></div>
<div class="ttc" id="astorage_8h_html_afc98f7a2e0f557cc5dc379cf7cc9c626"><div class="ttname"><a href="storage_8h.html#afc98f7a2e0f557cc5dc379cf7cc9c626">storage_get_device_params_as_string</a></div><div class="ttdeci">bool storage_get_device_params_as_string(char *buffer, uint16_t length)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00378">storage.c:378</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_aa32b82c2937881aa2395fbf4564a25c3"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#aa32b82c2937881aa2395fbf4564a25c3">ttstorage_::storage_::versions_::v1_::ttn_dev_eui</a></div><div class="ttdeci">char ttn_dev_eui[20]</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00187">storage.h:187</a></div></div>
<div class="ttc" id="astorage_8h_html_a16ba0f8f9c9bcb261d5ed4a2c61fe485"><div class="ttname"><a href="storage_8h.html#a16ba0f8f9c9bcb261d5ed4a2c61fe485">TTSTORAGE_MAX</a></div><div class="ttdeci">#define TTSTORAGE_MAX</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00048">storage.h:48</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___html_a3416198bfd25bf0bdd9aaf61f45f32f9"><div class="ttname"><a href="structttstorage___1_1storage__.html#a3416198bfd25bf0bdd9aaf61f45f32f9">ttstorage_::storage_::versions</a></div><div class="ttdeci">union ttstorage_::storage_::versions_ versions</div></div>
<div class="ttc" id="astorage_8h_html_aa5e6b0213b37542a278b4c5f32baf6b2"><div class="ttname"><a href="storage_8h.html#aa5e6b0213b37542a278b4c5f32baf6b2">storage_get_service_params_as_string_help</a></div><div class="ttdeci">char * storage_get_service_params_as_string_help()</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00516">storage.c:516</a></div></div>
<div class="ttc" id="astorage_8h_html_a724a3367467e23960a3d86f5de9cfbc7"><div class="ttname"><a href="storage_8h.html#a724a3367467e23960a3d86f5de9cfbc7">storage_load</a></div><div class="ttdeci">bool storage_load()</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00760">storage.c:760</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a15499957514bfe9690453fc41d4d21b9"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a15499957514bfe9690453fc41d4d21b9">ttstorage_::storage_::versions_::v1_::dfu_error</a></div><div class="ttdeci">uint16_t dfu_error</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00216">storage.h:216</a></div></div>
<div class="ttc" id="astorage_8h_html_a2b7f849f367f1d0549e4c11e3d5d61dc"><div class="ttname"><a href="storage_8h.html#a2b7f849f367f1d0549e4c11e3d5d61dc">storage_set_device_params_as_string</a></div><div class="ttdeci">void storage_set_device_params_as_string(char *str)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00396">storage.c:396</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a950bd1024fb10041a94a23203074ff66"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a950bd1024fb10041a94a23203074ff66">ttstorage_::storage_::versions_::v1_::carrier_apn</a></div><div class="ttdeci">char carrier_apn[32]</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00183">storage.h:183</a></div></div>
<div class="ttc" id="astorage_8h_html_a162aea4a535ceca8780acd32ec2f137a"><div class="ttname"><a href="storage_8h.html#a162aea4a535ceca8780acd32ec2f137a">db_enabled</a></div><div class="ttdeci">bool db_enabled()</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00870">storage.c:870</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___html_ab6d7b6f8c2ceaba7acda80aaf05f4899"><div class="ttname"><a href="structttstorage___1_1storage__.html#ab6d7b6f8c2ceaba7acda80aaf05f4899">ttstorage_::storage_::version</a></div><div class="ttdeci">uint16_t version</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00098">storage.h:98</a></div></div>
<div class="ttc" id="astorage_8h_html_a0eaee82b5d9a69b5fb7be78f162a1c53"><div class="ttname"><a href="storage_8h.html#a0eaee82b5d9a69b5fb7be78f162a1c53">storage_get_device_params_as_string_help</a></div><div class="ttdeci">char * storage_get_device_params_as_string_help()</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00373">storage.c:373</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a8c511caf5d5e71d9a52d8ca923c6dc54"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a8c511caf5d5e71d9a52d8ca923c6dc54">ttstorage_::storage_::versions_::v1_::dfu_status</a></div><div class="ttdeci">uint16_t dfu_status</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00215">storage.h:215</a></div></div>
<div class="ttc" id="astorage_8h_html_a6639814c6e8a19a0a2d7835265eed1f2"><div class="ttname"><a href="storage_8h.html#a6639814c6e8a19a0a2d7835265eed1f2">storage_set_device_label_as_string</a></div><div class="ttdeci">void storage_set_device_label_as_string(char *str)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00493">storage.c:493</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_aa5b47e1642a508ed8bc5031078a1390f"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#aa5b47e1642a508ed8bc5031078a1390f">ttstorage_::storage_::versions_::v1_::service_addr</a></div><div class="ttdeci">char service_addr[32]</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00184">storage.h:184</a></div></div>
<div class="ttc" id="astorage_8h_html_a7789c1ac642851c857c7248d85dafa98"><div class="ttname"><a href="storage_8h.html#a7789c1ac642851c857c7248d85dafa98">db_get</a></div><div class="ttdeci">uint16_t db_get(uint8_t *buffer, uint16_t *length, uint16_t *request_type)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00827">storage.c:827</a></div></div>
<div class="ttc" id="astorage_8h_html_a62a78fd1ca35e7f666e1e62e8e0d448a"><div class="ttname"><a href="storage_8h.html#a62a78fd1ca35e7f666e1e62e8e0d448a">ttstorage</a></div><div class="ttdeci">union ttstorage_ ttstorage</div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_ac582f1899244fe384fb81fe9ea699e39"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#ac582f1899244fe384fb81fe9ea699e39">ttstorage_::storage_::versions_::v1_::wan</a></div><div class="ttdeci">uint8_t wan</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00177">storage.h:177</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a976e511601cd5f33766778592884879d"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a976e511601cd5f33766778592884879d">ttstorage_::storage_::versions_::v1_::sensors</a></div><div class="ttdeci">uint32_t sensors</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00155">storage.h:155</a></div></div>
<div class="ttc" id="astorage_8h_html_a0e04bad658769e67843d9917f9bc66de"><div class="ttname"><a href="storage_8h.html#a0e04bad658769e67843d9917f9bc66de">storage_set_ttn_params_as_string</a></div><div class="ttdeci">void storage_set_ttn_params_as_string(char *str)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00603">storage.c:603</a></div></div>
<div class="ttc" id="aunionttstorage___html_a3a60bac7bef8d8eddf343ecaab7fa8cf"><div class="ttname"><a href="unionttstorage__.html#a3a60bac7bef8d8eddf343ecaab7fa8cf">ttstorage_::data</a></div><div class="ttdeci">uint8_t data[TTSTORAGE_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00085">storage.h:85</a></div></div>
<div class="ttc" id="astorage_8h_html_a0f1b629b450a7343485285f9dc43fbb6"><div class="ttname"><a href="storage_8h.html#a0f1b629b450a7343485285f9dc43fbb6">db_put</a></div><div class="ttdeci">bool db_put(uint8_t *buffer, uint16_t length, uint16_t request_type)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00876">storage.c:876</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a950e6ad94a6d6f007262b34ee7a7f59d"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a950e6ad94a6d6f007262b34ee7a7f59d">ttstorage_::storage_::versions_::v1_::restart_days</a></div><div class="ttdeci">uint16_t restart_days</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00173">storage.h:173</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a93caf1098bb16e59f65e67e3f4c04d5b"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a93caf1098bb16e59f65e67e3f4c04d5b">ttstorage_::storage_::versions_::v1_::uptime_days</a></div><div class="ttdeci">uint16_t uptime_days</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00174">storage.h:174</a></div></div>
<div class="ttc" id="astorage_8h_html_a57bb977683c5c44270bd8ae38a60bdaf"><div class="ttname"><a href="storage_8h.html#a57bb977683c5c44270bd8ae38a60bdaf">storage_get_ttn_params_as_string</a></div><div class="ttdeci">bool storage_get_ttn_params_as_string(char *buffer, uint16_t length)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00578">storage.c:578</a></div></div>
<div class="ttc" id="astorage_8h_html_ad059747480e227f9d65a67594b03468d"><div class="ttname"><a href="storage_8h.html#ad059747480e227f9d65a67594b03468d">storage_get_service_params_as_string</a></div><div class="ttdeci">bool storage_get_service_params_as_string(char *buffer, uint16_t length)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00521">storage.c:521</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a1b4791b6a5b5ead90af3160fb89529a2"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a1b4791b6a5b5ead90af3160fb89529a2">ttstorage_::storage_::versions_::v1_::device_label</a></div><div class="ttdeci">char device_label[64]</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00161">storage.h:161</a></div></div>
<div class="ttc" id="astorage_8h_html_ad09b6bb7057b9a92b7d257c67b29a66f"><div class="ttname"><a href="storage_8h.html#ad09b6bb7057b9a92b7d257c67b29a66f">storage_set_dfu_state_as_string</a></div><div class="ttdeci">void storage_set_dfu_state_as_string(char *str)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00657">storage.c:657</a></div></div>
<div class="ttc" id="astorage_8h_html_a2f7a189bc009472338ef8f3c1c32a02c"><div class="ttname"><a href="storage_8h.html#a2f7a189bc009472338ef8f3c1c32a02c">storage_get_ttn_params_as_string_help</a></div><div class="ttdeci">char * storage_get_ttn_params_as_string_help()</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00573">storage.c:573</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a0e0ecb52bd1b059fa883a31e4bd1078c"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a0e0ecb52bd1b059fa883a31e4bd1078c">ttstorage_::storage_::versions_::v1_::gps_latitude</a></div><div class="ttdeci">float gps_latitude</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00192">storage.h:192</a></div></div>
<div class="ttc" id="astorage_8h_html_a805f7dc65e333110a39fc0df5f3261cf"><div class="ttname"><a href="storage_8h.html#a805f7dc65e333110a39fc0df5f3261cf">storage_checkpoint</a></div><div class="ttdeci">void storage_checkpoint()</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00785">storage.c:785</a></div></div>
<div class="ttc" id="aunionttstorage___1_1storage___1_1versions___html_a1985dbd5e307f351432642e0a4cfe58f"><div class="ttname"><a href="unionttstorage___1_1storage___1_1versions__.html#a1985dbd5e307f351432642e0a4cfe58f">ttstorage_::storage_::versions_::v1</a></div><div class="ttdeci">struct ttstorage_::storage_::versions_::v1_ v1</div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a096b0d6792e4a19eeb91ea14fe166bed"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a096b0d6792e4a19eeb91ea14fe166bed">ttstorage_::storage_::versions_::v1_::oneshot_cell_minutes</a></div><div class="ttdeci">uint16_t oneshot_cell_minutes</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00167">storage.h:167</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a976b89cb90d7f18911f97fff404f1c69"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a976b89cb90d7f18911f97fff404f1c69">ttstorage_::storage_::versions_::v1_::lkg_gps_longitude</a></div><div class="ttdeci">float lkg_gps_longitude</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00198">storage.h:198</a></div></div>
<div class="ttc" id="astorage_8h_html_a8756d205f41f5d0be3a5577286f8d193"><div class="ttname"><a href="storage_8h.html#a8756d205f41f5d0be3a5577286f8d193">storage_get_device_label_as_string_help</a></div><div class="ttdeci">char * storage_get_device_label_as_string_help()</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00473">storage.c:473</a></div></div>
<div class="ttc" id="astorage_8h_html_af8c651b17ba3618749b7b59c6482cea0"><div class="ttname"><a href="storage_8h.html#af8c651b17ba3618749b7b59c6482cea0">storage_get_device_label_as_string</a></div><div class="ttdeci">bool storage_get_device_label_as_string(char *buffer, uint16_t length)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00478">storage.c:478</a></div></div>
<div class="ttc" id="astorage_8h_html_aba57a2549ae2caa46b7a6cb16a69b109"><div class="ttname"><a href="storage_8h.html#aba57a2549ae2caa46b7a6cb16a69b109">db_get_release</a></div><div class="ttdeci">void db_get_release()</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00852">storage.c:852</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a9216aa5ba14e96382282730ca638aad7"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a9216aa5ba14e96382282730ca638aad7">ttstorage_::storage_::versions_::v1_::lpwan_region</a></div><div class="ttdeci">char lpwan_region[8]</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00180">storage.h:180</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___html"><div class="ttname"><a href="structttstorage___1_1storage__.html">ttstorage_::storage_</a></div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00087">storage.h:87</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a5df95878df453077f7f1e58f71334a86"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a5df95878df453077f7f1e58f71334a86">ttstorage_::storage_::versions_::v1_::lkg_gps_latitude</a></div><div class="ttdeci">float lkg_gps_latitude</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00197">storage.h:197</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_aaacd2acdd6fce5554c3c1b55fab53783"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#aaacd2acdd6fce5554c3c1b55fab53783">ttstorage_::storage_::versions_::v1_::lkg_gps_altitude</a></div><div class="ttdeci">float lkg_gps_altitude</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00199">storage.h:199</a></div></div>
<div class="ttc" id="astorage_8h_html_acdf449577cec02e8758c8d46ef1befdd"><div class="ttname"><a href="storage_8h.html#acdf449577cec02e8758c8d46ef1befdd">STORAGE</a></div><div class="ttdeci">#define STORAGE</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00097">storage.h:97</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a97dab6aad53a8630b29426bad3d16397"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a97dab6aad53a8630b29426bad3d16397">ttstorage_::storage_::versions_::v1_::stats_minutes</a></div><div class="ttdeci">uint16_t stats_minutes</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00170">storage.h:170</a></div></div>
<div class="ttc" id="astorage_8h_html_ae4686f057310f87cfe977b0b723142ee"><div class="ttname"><a href="storage_8h.html#ae4686f057310f87cfe977b0b723142ee">storage_get_dfu_state_as_string</a></div><div class="ttdeci">bool storage_get_dfu_state_as_string(char *buffer, uint16_t length)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00644">storage.c:644</a></div></div>
<div class="ttc" id="aunionttstorage___html_acf1dbd5bac8a050849df82653e12ab49"><div class="ttname"><a href="unionttstorage__.html#acf1dbd5bac8a050849df82653e12ab49">ttstorage_::storage</a></div><div class="ttdeci">struct ttstorage_::storage_ storage</div></div>
<div class="ttc" id="astorage_8h_html_ab16b40827d1e7681f55d1a0864542563"><div class="ttname"><a href="storage_8h.html#ab16b40827d1e7681f55d1a0864542563">storage_get_gps_params_as_string_help</a></div><div class="ttdeci">char * storage_get_gps_params_as_string_help()</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00696">storage.c:696</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_aa96f84b589e7331f957fcc5817a5ceca"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#aa96f84b589e7331f957fcc5817a5ceca">ttstorage_::storage_::versions_::v1_::gps_altitude</a></div><div class="ttdeci">float gps_altitude</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00194">storage.h:194</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a7a961ddf0b6a53d09f0c35ac7e6028c4"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a7a961ddf0b6a53d09f0c35ac7e6028c4">ttstorage_::storage_::versions_::v1_::gps_longitude</a></div><div class="ttdeci">float gps_longitude</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00193">storage.h:193</a></div></div>
<div class="ttc" id="astorage_8h_html_a4bc7dba670af337c4d73c9195eaba4bd"><div class="ttname"><a href="storage_8h.html#a4bc7dba670af337c4d73c9195eaba4bd">storage_sys_event_handler</a></div><div class="ttdeci">void storage_sys_event_handler(uint32_t sys_evt)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00078">storage.c:78</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_ae1285ff32ee0f358cb7035fd874e1a15"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#ae1285ff32ee0f358cb7035fd874e1a15">ttstorage_::storage_::versions_::v1_::ttn_app_eui</a></div><div class="ttdeci">char ttn_app_eui[20]</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00188">storage.h:188</a></div></div>
<div class="ttc" id="astorage_8h_html_a311edb8013478c041330c73c1238fb71"><div class="ttname"><a href="storage_8h.html#a311edb8013478c041330c73c1238fb71">storage_set_gps_params_as_string</a></div><div class="ttdeci">void storage_set_gps_params_as_string(char *str)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00717">storage.c:717</a></div></div>
<div class="ttc" id="astorage_8h_html_a3ee733e2f9c570091c001f58dc7e0442"><div class="ttname"><a href="storage_8h.html#a3ee733e2f9c570091c001f58dc7e0442">storage_set_to_default</a></div><div class="ttdeci">void storage_set_to_default()</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00221">storage.c:221</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_ad9002488b7ec430fbd90d7e50222d601"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#ad9002488b7ec430fbd90d7e50222d601">ttstorage_::storage_::versions_::v1_::product</a></div><div class="ttdeci">uint16_t product</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00107">storage.h:107</a></div></div>
<div class="ttc" id="astorage_8h_html_a95b0eef67cf3dcde7967cf5765b0856d"><div class="ttname"><a href="storage_8h.html#a95b0eef67cf3dcde7967cf5765b0856d">storage_get_sensor_params_as_string</a></div><div class="ttdeci">bool storage_get_sensor_params_as_string(char *buffer, uint16_t length)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00746">storage.c:746</a></div></div>
<div class="ttc" id="astorage_8h_html_afa6a8becacf59fa379bbf76a54e0a9dd"><div class="ttname"><a href="storage_8h.html#afa6a8becacf59fa379bbf76a54e0a9dd">storage_init</a></div><div class="ttdeci">void storage_init()</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00146">storage.c:146</a></div></div>
<div class="ttc" id="astorage_8h_html_a8922f49572bb527af3741c3bc43b1711"><div class="ttname"><a href="storage_8h.html#a8922f49572bb527af3741c3bc43b1711">storage_set_service_params_as_string</a></div><div class="ttdeci">void storage_set_service_params_as_string(char *str)</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00537">storage.c:537</a></div></div>
<div class="ttc" id="aconfig_8c_html_ad8ab729381f270b100f3d05b6c6676fc"><div class="ttname"><a href="config_8c.html#ad8ab729381f270b100f3d05b6c6676fc">str</a></div><div class="ttdeci">#define str(s)</div><div class="ttdef"><b>Definition:</b> <a href="config_8c_source.html#l00016">config.c:16</a></div></div>
<div class="ttc" id="astorage_8h_html_a5d7af32088297d42a7223923404be57d"><div class="ttname"><a href="storage_8h.html#a5d7af32088297d42a7223923404be57d">storage</a></div><div class="ttdeci">STORAGE * storage()</div><div class="ttdef"><b>Definition:</b> <a href="storage_8c_source.html#l00216">storage.c:216</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a22c127e2c45182aa4708a2fd686584fc"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a22c127e2c45182aa4708a2fd686584fc">ttstorage_::storage_::versions_::v1_::sensor_params</a></div><div class="ttdeci">char sensor_params[100]</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00202">storage.h:202</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html_a7fad97fc2e74f2b9242cdf38065542df"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html#a7fad97fc2e74f2b9242cdf38065542df">ttstorage_::storage_::versions_::v1_::ttn_app_key</a></div><div class="ttdeci">char ttn_app_key[40]</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00189">storage.h:189</a></div></div>
<div class="ttc" id="astructttstorage___1_1storage___1_1versions___1_1v1___html"><div class="ttname"><a href="structttstorage___1_1storage___1_1versions___1_1v1__.html">ttstorage_::storage_::versions_::v1_</a></div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00104">storage.h:104</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="storage_8h.html">storage.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.19 </li>
  </ul>
</div>
</body>
</html>
